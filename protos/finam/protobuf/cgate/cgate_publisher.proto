// CGate commands, see full description http://ftp.moex.com/pub/ClientsAPI/Spectra/CGateCurr/p2gate_ru.pdf

syntax = "proto3";

package finam.protobuf.cgate;

import "google/protobuf/wrappers.proto";
import "google/api/annotations.proto";

option java_multiple_files = true;

option objc_class_prefix = "FNM";

message FutAddOrderRequest {
    google.protobuf.StringValue broker_code = 1;
    google.protobuf.StringValue isin = 2;
    google.protobuf.StringValue client_code = 3;
    google.protobuf.Int32Value type = 4;
    google.protobuf.Int32Value dir = 5;
    google.protobuf.Int32Value amount = 6;
    google.protobuf.StringValue price = 7;
    google.protobuf.StringValue comment = 8;
    google.protobuf.StringValue broker_to = 9;
    google.protobuf.Int32Value ext_id = 10;
    google.protobuf.Int32Value du = 11;
    google.protobuf.StringValue date_exp = 12;
    google.protobuf.Int32Value hedge = 13;
    google.protobuf.Int32Value dont_check_money = 14;
    google.protobuf.StringValue match_ref = 15;
}

message FutAddOrderResponse {
    google.protobuf.Int32Value code = 1;
    google.protobuf.StringValue message = 2;
    google.protobuf.Int64Value order_id = 3;
}

message FutDelOrderRequest {
    google.protobuf.StringValue broker_code = 1;
    google.protobuf.Int64Value order_id = 2;
}

message FutDelOrderResponse {
    google.protobuf.Int32Value code = 1;
    google.protobuf.StringValue message = 2;
    google.protobuf.Int32Value amount = 3;
}

message FutChangeClientMoneyRequest {
    google.protobuf.StringValue broker_code = 1;
    google.protobuf.Int32Value mode = 2;
    google.protobuf.StringValue code = 3;
    google.protobuf.StringValue limit_money = 4;
    google.protobuf.StringValue limit_pledge = 5;
    google.protobuf.StringValue coeff_liquidity = 6;
    google.protobuf.StringValue coeff_go = 7;
    google.protobuf.Int32Value is_auto_update_limit = 8;
    google.protobuf.Int32Value no_fut_discount = 9;
    google.protobuf.Int32Value check_limit = 10;
}

message FutChangeClientMoneyResponse {
    google.protobuf.Int32Value code = 1;
    google.protobuf.StringValue message = 2;
}

message OptAddOrderRequest {
    google.protobuf.StringValue broker_code = 1;
    google.protobuf.StringValue isin = 2;
    google.protobuf.StringValue client_code = 3;
    google.protobuf.Int32Value type = 4;
    google.protobuf.Int32Value dir = 5;
    google.protobuf.Int32Value amount = 6;
    google.protobuf.StringValue price = 7;
    google.protobuf.StringValue comment = 8;
    google.protobuf.StringValue broker_to = 9;
    google.protobuf.Int32Value ext_id = 10;
    google.protobuf.Int32Value du = 11;
    google.protobuf.Int32Value check_limit = 12;
    google.protobuf.StringValue date_exp = 13;
    google.protobuf.Int32Value hedge = 14;
    google.protobuf.Int32Value dont_check_money = 15;
    google.protobuf.StringValue match_ref = 16;
}

message OptAddOrderResponse {
    google.protobuf.Int32Value code = 1;
    google.protobuf.StringValue message = 2;
    google.protobuf.Int64Value order_id = 3;
}

message OptDelOrderRequest {
    google.protobuf.StringValue broker_code = 1;
    google.protobuf.Int64Value order_id = 2;
}

message OptDelOrderResponse {
    google.protobuf.Int32Value code = 1;
    google.protobuf.StringValue message = 2;
    google.protobuf.Int32Value amount = 3;
}

message OptChangeExpirationRequest {
    google.protobuf.StringValue broker_code = 1;
    google.protobuf.Int32Value mode = 2;
    google.protobuf.Int32Value order_id = 3;
    google.protobuf.StringValue code = 4;
    google.protobuf.StringValue isin = 5;
    google.protobuf.Int32Value amount = 6;
}

message OptChangeExpirationResponse {
    google.protobuf.Int32Value code = 1;
    google.protobuf.StringValue message = 2;
    google.protobuf.Int32Value order_id = 3;
}

message FutAddMultiLegOrderRequest {
    google.protobuf.StringValue broker_code = 1;
    google.protobuf.Int32Value sess_id = 2;
    google.protobuf.Int32Value isin_id = 3;
    google.protobuf.StringValue client_code = 4;
    google.protobuf.Int32Value type = 5;
    google.protobuf.Int32Value dir = 6;
    google.protobuf.Int32Value amount = 7;
    google.protobuf.StringValue price = 8;
    google.protobuf.StringValue rate_price = 9;
    google.protobuf.StringValue comment = 10;
    google.protobuf.StringValue broker_to = 11;
    google.protobuf.Int32Value ext_id = 12;
    google.protobuf.Int32Value trust = 13;
    google.protobuf.StringValue date_exp = 14;
    google.protobuf.Int32Value trade_mode = 15;
    google.protobuf.Int32Value hedge = 16;
    google.protobuf.Int32Value dont_check_money = 17;
    google.protobuf.StringValue match_ref = 18;
}

message FutAddMultiLegOrderResponse {
    google.protobuf.Int32Value code = 1;
    google.protobuf.StringValue message = 2;
    google.protobuf.Int64Value order_id = 3;
}

// The following messages are not implemented yet

message FutDelUserOrdersRequest {
    google.protobuf.StringValue broker_code = 1;
    google.protobuf.Int32Value buy_sell = 2;
    google.protobuf.Int32Value non_system = 3;
    google.protobuf.StringValue code = 4;
    google.protobuf.StringValue code_vcb = 5;
    google.protobuf.Int32Value ext_id = 6;
    google.protobuf.Int32Value work_mode = 7;
    google.protobuf.StringValue isin = 8;
}

message FutDelUserOrdersResponse {
    google.protobuf.Int32Value code = 1;
    google.protobuf.StringValue message = 2;
    google.protobuf.Int32Value num_orders = 3;
}

message FutMoveOrderRequest {
    google.protobuf.StringValue broker_code = 1;
    google.protobuf.Int32Value regime = 2;
    google.protobuf.Int64Value order_id1 = 3;
    google.protobuf.Int32Value amount1 = 4;
    google.protobuf.StringValue price1 = 5;
    google.protobuf.Int32Value ext_id1 = 6;
    google.protobuf.Int64Value order_id2 = 7;
    google.protobuf.Int32Value amount2 = 8;
    google.protobuf.StringValue price2 = 9;
    google.protobuf.Int32Value ext_id2 = 10;
}

message FutMoveOrderResponse {
    google.protobuf.Int32Value code = 1;
    google.protobuf.StringValue message = 2;
    google.protobuf.Int64Value order_id1 = 3;
    google.protobuf.Int64Value order_id2 = 4;
}

message OptDelUserOrdersRequest {
    google.protobuf.StringValue broker_code = 1;
    google.protobuf.Int32Value buy_sell = 2;
    google.protobuf.Int32Value non_system = 3;
    google.protobuf.StringValue code = 4;
    google.protobuf.StringValue code_vcb = 5;
    google.protobuf.Int32Value ext_id = 6;
    google.protobuf.Int32Value work_mode = 7;
    google.protobuf.StringValue isin = 8;
}

message OptDelUserOrdersResponse {
    google.protobuf.Int32Value code = 1;
    google.protobuf.StringValue message = 2;
    google.protobuf.Int32Value num_orders = 3;
}

message OptMoveOrderRequest {
    google.protobuf.StringValue broker_code = 1;
    google.protobuf.Int32Value regime = 2;
    google.protobuf.Int64Value order_id1 = 3;
    google.protobuf.Int32Value amount1 = 4;
    google.protobuf.StringValue price1 = 5;
    google.protobuf.Int32Value ext_id1 = 6;
    google.protobuf.Int32Value check_limit = 7;
    google.protobuf.Int64Value order_id2 = 8;
    google.protobuf.Int32Value amount2 = 9;
    google.protobuf.StringValue price2 = 10;
    google.protobuf.Int32Value ext_id2 = 11;
}

message OptMoveOrderResponse {
    google.protobuf.Int32Value code = 1;
    google.protobuf.StringValue message = 2;
    google.protobuf.Int64Value order_id1 = 3;
    google.protobuf.Int64Value order_id2 = 4;
}

message FutChangeBFMoneyRequest {
    google.protobuf.StringValue broker_code = 1;
    google.protobuf.Int32Value mode = 2;
    google.protobuf.StringValue code = 3;
    google.protobuf.StringValue limit_money = 4;
    google.protobuf.StringValue limit_pledge = 5;
}

message FutChangeBFMoneyResponse {
    google.protobuf.Int32Value code = 1;
    google.protobuf.StringValue message = 2;
}

message FutChangeClientProhibitRequest {
    google.protobuf.StringValue broker_code = 1;
    google.protobuf.Int32Value mode = 2;
    google.protobuf.StringValue code = 3;
    google.protobuf.StringValue limit_money = 4;
    google.protobuf.StringValue limit_pledge = 5;
    google.protobuf.Int32Value state = 6;
    google.protobuf.Int32Value state_mask = 7;
}

message FutChangeClientProhibitResponse {
    google.protobuf.Int32Value code = 1;
    google.protobuf.StringValue message = 2;
}

message OptChangeClientProhibitRequest {
    google.protobuf.StringValue broker_code = 1;
    google.protobuf.Int32Value mode = 2;
    google.protobuf.StringValue code = 3;
    google.protobuf.StringValue code_vcb = 4;
    google.protobuf.StringValue isin = 5;
    google.protobuf.Int32Value state = 6;
    google.protobuf.Int32Value state_mask = 7;
}

message OptChangeClientProhibitResponse {
    google.protobuf.Int32Value code = 1;
    google.protobuf.StringValue message = 2;
}

message FutExchangeBFMoneyRequest {
    google.protobuf.StringValue broker_code = 1;
    google.protobuf.Int32Value mode = 2;
    google.protobuf.StringValue code_from = 3;
    google.protobuf.StringValue code_to = 4;
    google.protobuf.StringValue amount_money = 5;
    google.protobuf.StringValue amount_pledge = 6;
}

message FutExchangeBFMoneyResponse {
    google.protobuf.Int32Value code = 1;
    google.protobuf.StringValue message = 2;
}

message OptRecalcCSRequest {
    google.protobuf.StringValue broker_code = 1;
    google.protobuf.Int32Value isin_id = 2;
}

message OptRecalcCSResponse {
    google.protobuf.Int32Value code = 1;
    google.protobuf.StringValue message = 2;
}

message FutTransferClientPositionRequest {
    google.protobuf.StringValue broker_code = 1;
    google.protobuf.StringValue code_from = 2;
    google.protobuf.StringValue code_to = 3;
    google.protobuf.StringValue isin = 4;
    google.protobuf.Int32Value amount = 5;
}

message FutTransferClientPositionResponse {
    google.protobuf.Int32Value code = 1;
    google.protobuf.StringValue message = 2;
}

message OptTransferClientPositionRequest {
    google.protobuf.StringValue broker_code = 1;
    google.protobuf.StringValue code_from = 2;
    google.protobuf.StringValue code_to = 3;
    google.protobuf.StringValue isin = 4;
    google.protobuf.Int32Value amount = 5;
}

message OptTransferClientPositionResponse {
    google.protobuf.Int32Value code = 1;
    google.protobuf.StringValue message = 2;
}

message OptChangeRiskParametersRequest {
    google.protobuf.StringValue broker_code = 1;
    google.protobuf.StringValue client_code = 2;
    google.protobuf.Int32Value num_clr_2delivery = 3;
    google.protobuf.Int32Value use_broker_num_clr_2delivery = 4;
    google.protobuf.StringValue exp_weight = 5;
    google.protobuf.Int32Value use_broker_exp_weight = 6;
}

message OptChangeRiskParametersResponse {
    google.protobuf.Int32Value code = 1;
    google.protobuf.StringValue message = 2;
}

message FutTransferRiskRequest {
    google.protobuf.StringValue broker_code = 1;
    google.protobuf.StringValue code_from = 2;
    google.protobuf.StringValue isin = 3;
    google.protobuf.Int32Value amount = 4;
}

message FutTransferRiskResponse {
    google.protobuf.Int32Value code = 1;
    google.protobuf.StringValue message = 2;
    google.protobuf.Int64Value deal_id1 = 3;
    google.protobuf.Int64Value deal_id2 = 4;
}

service Publisher {
    rpc FutAddOrder(FutAddOrderRequest) returns (FutAddOrderResponse) {
        option (google.api.http) = {
            post: "/rpc/futaddorder"
            body: "*"
        };
    }

    rpc FutDelOrder(FutDelOrderRequest) returns (FutDelOrderResponse) {
        option (google.api.http) = {
            post: "/rpc/futdelorder"
            body: "*"
        };
    }

    rpc FutChangeClientMoney(FutChangeClientMoneyRequest) returns (FutChangeClientMoneyResponse) {
        option (google.api.http) = {
            post: "/rpc/futchangeclientmoney"
            body: "*"
        };
    }

    rpc OptAddOrder(OptAddOrderRequest) returns (OptAddOrderResponse) {
        option (google.api.http) = {
            post: "/rpc/optaddorder"
            body: "*"
        };
    }

    rpc OptDelOrder(OptDelOrderRequest) returns (OptDelOrderResponse) {
        option (google.api.http) = {
            post: "/rpc/optdelorder"
            body: "*"
        };
    }

    rpc OptChangeExpiration(OptChangeExpirationRequest) returns (OptChangeExpirationResponse) {
        option (google.api.http) = {
            post: "/rpc/optchangeexpiration"
            body: "*"
        };
    }

    rpc FutAddMultiLegOrder(FutAddMultiLegOrderRequest) returns (FutAddMultiLegOrderResponse) {
        option (google.api.http) = {
            post: "/rpc/futaddmultilegorder"
            body: "*"
        };
    }
    
    // The following functions are not implemented yet
    rpc FutDelUserOrders(FutDelUserOrdersRequest) returns (FutDelUserOrdersResponse) {
        option (google.api.http) = {
            post: "/rpc/futdeluserorders"
            body: "*"
        };
    }

    rpc FutMoveOrder(FutMoveOrderRequest) returns (FutMoveOrderResponse) {
        option (google.api.http) = {
            post: "/rpc/futmoveorder"
            body: "*"
        };
    }

    rpc OptDelUserOrders(OptDelUserOrdersRequest) returns (OptDelUserOrdersResponse) {
        option (google.api.http) = {
            post: "/rpc/optdeluserorders"
            body: "*"
        };
    }

    rpc OptMoveOrder(OptMoveOrderRequest) returns (OptMoveOrderResponse) {
        option (google.api.http) = {
            post: "/rpc/optmoveorder"
            body: "*"
        };
    }
    
    rpc FutChangeBFMoney(FutChangeBFMoneyRequest) returns (FutChangeBFMoneyResponse) {
        option (google.api.http) = {
            post: "/rpc/futchangebfmoney"
            body: "*"
        };
    }

    rpc FutChangeClientProhibit(FutChangeClientProhibitRequest) returns (FutChangeClientProhibitResponse) {
        option (google.api.http) = {
            post: "/rpc/futchangeclientprohibit"
            body: "*"
        };
    }

    rpc OptChangeClientProhibit(OptChangeClientProhibitRequest) returns (OptChangeClientProhibitResponse) {
        option (google.api.http) = {
            post: "/rpc/optchangeclientprohibit"
            body: "*"
        };
    }

    rpc FutExchangeBFMoney(FutExchangeBFMoneyRequest) returns (FutExchangeBFMoneyResponse) {
        option (google.api.http) = {
            post: "/rpc/futexchangebfmoney"
            body: "*"
        };
    }

    rpc OptRecalcCS(OptRecalcCSRequest) returns (OptRecalcCSResponse) {
        option (google.api.http) = {
            post: "/rpc/optrecalccs"
            body: "*"
        };
    }

    rpc FutTransferClientPosition(FutTransferClientPositionRequest) returns (FutTransferClientPositionResponse) {
        option (google.api.http) = {
            post: "/rpc/futtransferclientposition"
            body: "*"
        };
    }

    rpc OptTransferClientPosition(OptTransferClientPositionRequest) returns (OptTransferClientPositionResponse) {
        option (google.api.http) = {
            post: "/rpc/opttransferclientposition"
            body: "*"
        };
    }

    rpc OptChangeRiskParameters(OptChangeRiskParametersRequest) returns (OptChangeRiskParametersResponse) {
        option (google.api.http) = {
            post: "/rpc/optchangeriskparameters"
            body: "*"
        };
    }

    rpc FutTransferRisk(FutTransferRiskRequest) returns (FutTransferRiskResponse) {
        option (google.api.http) = {
            post: "/rpc/futtransferrisk"
            body: "*"
        };
    }
}
